var express = require("express");
var theapp = express();

theapp.get("/url", (req, res, next) => {
 res.json(["this","is","my","test","server"]);
});

theapp.get('/make/:maken/model/:modeln', function (req, res) {
	//check that the keys exist
	if(!obj.hasOwnProperty(req.params["maken"])){
		res.send();
		return;
	}
	my_res = obj[req.params["maken"]][req.params["modeln"]];
	//res.send(req.params["maken"])
	//	res.send(req.params)
	res.send(my_res);
})

theapp.get('/stuff', function (req, res) {
	res.send(my)
})

theapp.listen(3000, () => {
 console.log("Server running on port 3000");
});

var my = "cheese";

//var obj = require('all.json');


var obj = {
	    "LAND ROVER": {
		            "DISCOVERY": [
				                {
							                "pc": 0,
							                "AB": 2173,
							                "AL": 960,
							                "B": 4015,
							                "BA": 2995,
							                "BB": 1505,
							                "BD": 1611,
							                "BH": 2316,
							                "BL": 927,
							                "BN": 2079,
							                "BR": 422,
							                "BS": 2817,
							                "BT": 0,
							                "CA": 1323,
							                "CB": 1623,
							                "CF": 1832,
							                "CH": 1831,
							                "CM": 3448,
							                "CO": 2119,
							                "CR": 816,
							                "CT": 1633,
							                "CV": 2922,
							                "CW": 1415,
							                "DA": 1067,
							                "DD": 641,
							                "DE": 3116,
							                "DG": 442,
							                "DH": 754,
							                "DL": 1257,
							                "DN": 2175,
							                "DT": 1517,
							                "DY": 1546,
							                "E": 516,
							                "EC": 0,
							                "EH": 1924,
							                "EN": 926,
							                "EX": 3664,
							                "FK": 735,
							                "FY": 597,
							                "G": 1339,
							                "GL": 3910,
							                "GU": 3513,
							                "HA": 449,
							                "HD": 891,
							                "HG": 946,
							                "HP": 2169,
							                "HR": 1794,
							                "HS": 100,
							                "HU": 1033,
							                "HX": 800,
							                "IG": 372,
							                "IP": 2899,
							                "IV": 1294,
							                "KA": 691,
							                "KT": 1719,
							                "KW": 232,
							                "KY": 971,
							                "L": 1273,
							                "LA": 1442,
							                "LD": 481,
							                "LE": 2952,
							                "LL": 2617,
							                "LN": 1691,
							                "LS": 1830,
							                "LU": 857,
							                "M": 1274,
							                "ME": 2354,
							                "MK": 1999,
							                "ML": 604,
							                "N": 531,
							                "NE": 2241,
							                "NG": 3146,
							                "NN": 2433,
							                "NP": 1705,
							                "NR": 3019,
							                "NW": 566,
							                "OL": 966,
							                "OX": 3264,
							                "PA": 495,
							                "PE": 4511,
							                "PH": 887,
							                "PL": 2508,
							                "PO": 2426,
							                "PR": 1876,
							                "RG": 3795,
							                "RH": 2582,
							                "RM": 857,
							                "S": 4151,
							                "SA": 2291,
							                "SE": 786,
							                "SG": 1429,
							                "SK": 2067,
							                "SL": 1154,
							                "SM": 272,
							                "SN": 2706,
							                "SO": 2727,
							                "SP": 2076,
							                "SR": 393,
							                "SS": 1573,
							                "ST": 2371,
							                "SW": 1321,
							                "SY": 2684,
							                "TA": 2596,
							                "TD": 491,
							                "TF": 981,
							                "TN": 5090,
							                "TQ": 1337,
							                "TR": 1510,
							                "TS": 1389,
							                "TW": 854,
							                "UB": 431,
							                "W": 560,
							                "WA": 1335,
							                "WC": 0,
							                "WD": 707,
							                "WF": 1513,
							                "WN": 580,
							                "WR": 1990,
							                "WS": 1152,
							                "WV": 916,
							                "XX": 9,
							                "YO": 2549,
							                "ZE": 84
							            },
				                {
							                "AB": 0.0040696627240668125,
							                "AL": 0.0035590067941740065,
							                "B": 0.002016500592576437,
							                "BA": 0.0070668794923868595,
							                "BB": 0.003036177430332706,
							                "BD": 0.0027440175787510957,
							                "BH": 0.004142376464122095,
							                "BL": 0.0024338824082562336,
							                "BN": 0.0024256784695920342,
							                "BR": 0.0013729714339998562,
							                "BS": 0.002907323527479632,
							                "BT": 0.0,
							                "CA": 0.004085857832280733,
							                "CB": 0.007705935683867451,
							                "CF": 0.0017654744741252726,
							                "CH": 0.003813269382116115,
							                "CM": 0.00536700217742422,
							                "CO": 0.0047398118319346635,
							                "CR": 0.0018936004666425903,
							                "CT": 0.003176497614373131,
							                "CV": 0.003714242528631758,
							                "CW": 0.004717480033838275,
							                "DA": 0.002295903767833679,
							                "DD": 0.0022963185186196024,
							                "DE": 0.006357902863039813,
							                "DG": 0.0030200432858472465,
							                "DH": 0.002444252396680999,
							                "DL": 0.0032417320416699177,
							                "DN": 0.003108264598990752,
							                "DT": 0.006871466045844829,
							                "DY": 0.003971628388009981,
							                "E": 0.0004610293201119997,
							                "EC": 0.0,
							                "EH": 0.0020475825396120734,
							                "EN": 0.0025559759997158347,
							                "EX": 0.006127669853645854,
							                "FK": 0.002590228627827244,
							                "FY": 0.002540936104137908,
							                "G": 0.0011332921018490515,
							                "GL": 0.0066356200428482805,
							                "GU": 0.00503388365924803,
							                "HA": 0.001099502938714469,
							                "HD": 0.003129039481488765,
							                "HG": 0.007355341860548992,
							                "HP": 0.004285421218165914,
							                "HR": 0.009754612174665417,
							                "HS": 0.006875623178665667,
							                "HU": 0.0030357534622893903,
							                "HX": 0.00484968526857359,
							                "IG": 0.0009749100751127928,
							                "IP": 0.00438243698779688,
							                "IV": 0.005915262434507651,
							                "KA": 0.0018823286917012284,
							                "KT": 0.003098615485541238,
							                "KW": 0.004483957054258924,
							                "KY": 0.0025682779130668095,
							                "L": 0.0011485726049489996,
							                "LA": 0.004283084002941662,
							                "LD": 0.009775634707126852,
							                "LE": 0.003068987149267587,
							                "LL": 0.0048108367882089415,
							                "LN": 0.006268434629414142,
							                "LS": 0.0021900078765029283,
							                "LU": 0.0031135562439459042,
							                "M": 0.0009854850369036153,
							                "ME": 0.003628245976945956,
							                "MK": 0.0047586797162418966,
							                "ML": 0.001565242908991688,
							                "N": 0.0006354645090349262,
							                "NE": 0.0018699608197541063,
							                "NG": 0.0025412418077095005,
							                "NN": 0.004031105672951876,
							                "NP": 0.0032772541797386656,
							                "NR": 0.004145760655851391,
							                "NW": 0.00140618643169668,
							                "OL": 0.00194485853331249,
							                "OX": 0.0074965494131563745,
							                "PA": 0.0023011363431602932,
							                "PE": 0.004814563173223457,
							                "PH": 0.005390216323929697,
							                "PL": 0.004618994563881905,
							                "PO": 0.0028578783181913594,
							                "PR": 0.003572466296452147,
							                "RG": 0.00509480478806547,
							                "RH": 0.004610178163765487,
							                "RM": 0.0015381145139060533,
							                "S": 0.00322705038967758,
							                "SA": 0.003043794032504447,
							                "SE": 0.0007273711904648534,
							                "SG": 0.00393956892094484,
							                "SK": 0.003388626195738595,
							                "SL": 0.0028356146985979306,
							                "SM": 0.0012184893025536513,
							                "SN": 0.005405178481117793,
							                "SO": 0.003720166066206054,
							                "SP": 0.008441422310220993,
							                "SR": 0.0015767779627512788,
							                "SS": 0.002879632482705451,
							                "ST": 0.0038767934800033486,
							                "SW": 0.0013999505044522502,
							                "SY": 0.007533350046086449,
							                "TA": 0.0075991111129467565,
							                "TD": 0.004273054755189955,
							                "TF": 0.004490970325224277,
							                "TN": 0.006845157465104323,
							                "TQ": 0.004452612161034228,
							                "TR": 0.004599698725064691,
							                "TS": 0.0025116891706363767,
							                "TW": 0.0015784636684415322,
							                "UB": 0.0012661737038185876,
							                "W": 0.0008707126828581929,
							                "WA": 0.0019880326390409758,
							                "WC": 0.0,
							                "WD": 0.002518448350826101,
							                "WF": 0.0029134778265202275,
							                "WN": 0.0019748175197566234,
							                "WR": 0.006528947718202595,
							                "WS": 0.0024577747146472457,
							                "WV": 0.0021692479048529456,
							                "YO": 0.004843594812089149,
							                "ZE": 0.0036649214659685864
							            }
				            ],
		            "FREELANDER": [
				                {
							                "pc": 0,
							                "AB": 2413,
							                "AL": 781,
							                "B": 4639,
							                "BA": 2712,
							                "BB": 1765,
							                "BD": 1824,
							                "BH": 2137,
							                "BL": 1050,
							                "BN": 2302,
							                "BR": 450,
							                "BS": 2880,
							                "BT": 0,
							                "CA": 1826,
							                "CB": 1555,
							                "CF": 2728,
							                "CH": 2140,
							                "CM": 2393,
							                "CO": 1927,
							                "CR": 853,
							                "CT": 1769,
							                "CV": 2756,
							                "CW": 1415,
							                "DA": 929,
							                "DD": 889,
							                "DE": 3199,
							                "DG": 673,
							                "DH": 1072,
							                "DL": 1771,
							                "DN": 3042,
							                "DT": 1754,
							                "DY": 1734,
							                "E": 485,
							                "EC": 0,
							                "EH": 2245,
							                "EN": 737,
							                "EX": 4407,
							                "FK": 745,
							                "FY": 819,
							                "G": 1833,
							                "GL": 3788,
							                "GU": 2868,
							                "HA": 474,
							                "HD": 1035,
							                "HG": 815,
							                "HP": 1864,
							                "HR": 1728,
							                "HS": 99,
							                "HU": 1594,
							                "HX": 828,
							                "IG": 295,
							                "IP": 3101,
							                "IV": 1234,
							                "KA": 854,
							                "KT": 1328,
							                "KW": 211,
							                "KY": 1321,
							                "L": 1321,
							                "LA": 1809,
							                "LD": 520,
							                "LE": 3077,
							                "LL": 2803,
							                "LN": 1994,
							                "LS": 1970,
							                "LU": 861,
							                "M": 1511,
							                "ME": 2253,
							                "MK": 1763,
							                "ML": 746,
							                "N": 587,
							                "NE": 3277,
							                "NG": 3509,
							                "NN": 2450,
							                "NP": 2339,
							                "NR": 3969,
							                "NW": 445,
							                "OL": 1163,
							                "OX": 2792,
							                "PA": 678,
							                "PE": 4763,
							                "PH": 1133,
							                "PL": 3280,
							                "PO": 2862,
							                "PR": 1840,
							                "RG": 2932,
							                "RH": 2301,
							                "RM": 773,
							                "S": 5436,
							                "SA": 2712,
							                "SE": 842,
							                "SG": 1316,
							                "SK": 2246,
							                "SL": 907,
							                "SM": 257,
							                "SN": 2289,
							                "SO": 2268,
							                "SP": 1820,
							                "SR": 590,
							                "SS": 1241,
							                "ST": 2654,
							                "SW": 776,
							                "SY": 2827,
							                "TA": 2893,
							                "TD": 899,
							                "TF": 944,
							                "TN": 4514,
							                "TQ": 1728,
							                "TR": 1794,
							                "TS": 1759,
							                "TW": 766,
							                "UB": 373,
							                "W": 429,
							                "WA": 1473,
							                "WC": 0,
							                "WD": 538,
							                "WF": 1570,
							                "WN": 682,
							                "WR": 1856,
							                "WS": 1423,
							                "WV": 1101,
							                "XX": 18,
							                "YO": 3328,
							                "ZE": 84
							            },
				                {
							                "AB": 0.00451914227021317,
							                "AL": 0.0028954003190103115,
							                "B": 0.0023298994393429868,
							                "BA": 0.00639912426823144,
							                "BB": 0.003560699777101147,
							                "BD": 0.00310682064782247,
							                "BH": 0.003822218697680879,
							                "BL": 0.002756824734270815,
							                "BN": 0.0026858642794616943,
							                "BR": 0.0014640690646917898,
							                "BS": 0.002972343542471189,
							                "BT": 0.0,
							                "CA": 0.005639286773805456,
							                "CB": 0.007383074546157662,
							                "CF": 0.002628937972387415,
							                "CH": 0.004456797639392948,
							                "CM": 0.003724836487986125,
							                "CO": 0.004310343275194949,
							                "CR": 0.0019794622525075114,
							                "CT": 0.0034410436496179232,
							                "CV": 0.0035032349106465183,
							            }]}}

